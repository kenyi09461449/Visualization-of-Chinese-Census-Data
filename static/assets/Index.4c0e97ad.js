import{_ as ut}from"./logo.09271933.js";import{r as G,g as y,i as v,c as W,R as U,e as T}from"./chart.3124556a.js";import{_ as ht,a as pt,u as mt,b as O,s as gt,y as yt,c as w,o as u,t as P,h as f,g as x,l as B,v as Z,x as vt,e as m,z as ft,F as bt,A as b,f as h,E as L,p as _t,m as xt}from"./index.794eb616.js";import{b as wt,c as Dt,d as kt}from"./user.f7bb43e6.js";import"./request.e71a236e.js";const g=S=>(_t("data-v-88d688c8"),S=S(),xt(),S),St=g(()=>h("img",{style:{width:"200px",height:"50px"},src:ut,alt:"Logo"},null,-1)),Ct=g(()=>h("div",{class:"flex-grow"},null,-1)),At=g(()=>h("i",{class:"el-icon-s-home"},null,-1)),It={key:0,class:"chart-tab"},Tt=g(()=>h("div",{id:"chart1",class:"chart"},null,-1)),Ot=[Tt],Pt={key:1,class:"chart-tab"},Lt=g(()=>h("div",{id:"chart2",class:"chart"},null,-1)),Et=[Lt],Bt={key:2,class:"chart-tab"},Mt=g(()=>h("div",{id:"chart3",class:"chart"},null,-1)),zt=[Mt],Vt={key:3,class:"chart-tab"},Gt=g(()=>h("div",{id:"chart4",class:"chart"},null,-1)),Wt=[Gt],Ut={key:4,class:"chart-tab"},Zt=g(()=>h("div",{id:"chart5",class:"chart"},null,-1)),Yt=[Zt],$t={key:5,class:"chart-tab"},Ft=g(()=>h("div",{id:"chart6",class:"chart"},null,-1)),Nt=[Ft],Ht={key:6,class:"chart-tab"},jt=g(()=>h("div",{id:"chart7",class:"chart"},null,-1)),Rt=[jt],Jt={key:7,class:"chart-tab"},Xt=g(()=>h("div",{id:"chart8",class:"chart"},null,-1)),qt=[Xt],Kt={key:8,class:"chart-tab"},Qt=g(()=>h("div",{id:"chart9",class:"chart"},null,-1)),ta=[Qt],aa={key:9,class:"chart-tab"},ea=g(()=>h("div",{id:"chart10",class:"chart"},null,-1)),oa=[ea],na={key:10,class:"chart-tab"},ia=g(()=>h("div",{id:"chart11",class:"chart"},null,-1)),ra=[ia],sa={key:11,class:"chart-tab"},la=g(()=>h("div",{id:"chart12",class:"chart"},null,-1)),ca=[la],da={key:12,class:"chart-tab"},ua=g(()=>h("div",{id:"chart13",class:"chart"},null,-1)),ha=[ua],pa={key:13,class:"chart-tab"},ma=g(()=>h("div",{id:"chart14",class:"chart"},null,-1)),ga=[ma],ya={key:14,class:"chart-tab"},va=g(()=>h("div",{id:"chart15",class:"chart"},null,-1)),fa=[va],ba={class:"footer"},_a={key:0,class:"footer-desc"},xa={key:1},wa={__name:"Index",setup(S){const C=pt(),A=mt(),Y=O(""),$=(e,o)=>{Y.value=e},I=O([]),F=()=>{window.localStorage.clear(),window.sessionStorage.clear(),C.push("/login")},N=()=>{C.push("/index")},H=()=>{C.push("/collection")},_={\u5317\u4EAC\u5E02:"Beijing",\u5929\u6D25\u5E02:"Tianjin",\u6CB3\u5317\u7701:"Hebei",\u5C71\u897F\u7701:"Sh\u0101nx\u012B",\u5185\u8499\u53E4\u81EA\u6CBB\u533A:"Neimeng",\u8FBD\u5B81\u7701:"Liaoning",\u5409\u6797\u7701:"Jilin",\u9ED1\u9F99\u6C5F\u7701:"Heilongjiang",\u4E0A\u6D77\u5E02:"Shanghai",\u6C5F\u82CF\u7701:"Jiangsu",\u6D59\u6C5F\u7701:"Zhejiang",\u5B89\u5FBD\u7701:"Anhui",\u798F\u5EFA\u7701:"Fujian",\u6C5F\u897F\u7701:"Jiangxi",\u5C71\u4E1C\u7701:"Shandong",\u6CB3\u5357\u7701:"Henan",\u6E56\u5317\u7701:"Hubei",\u6E56\u5357\u7701:"Hunan",\u5E7F\u4E1C\u7701:"Guangdong",\u5E7F\u897F\u58EE\u65CF\u81EA\u6CBB\u533A:"Guangxi",\u6D77\u5357\u7701:"Hainan",\u91CD\u5E86\u5E02:"Chongqing",\u56DB\u5DDD\u7701:"Sichuan",\u8D35\u5DDE\u7701:"Guizhou",\u4E91\u5357\u7701:"Yunnan",\u897F\u85CF\u81EA\u6CBB\u533A:"Xizang",\u9655\u897F\u7701:"Sh\u01CEnx\u012B",\u7518\u8083\u7701:"Gansu",\u9752\u6D77\u7701:"Qinghai",\u5B81\u590F\u56DE\u65CF\u81EA\u6CBB\u533A:"Ningxia",\u65B0\u7586\u7EF4\u543E\u5C14\u81EA\u6CBB\u533A:"Xinjiang",\u53F0\u6E7E\u7701:"Taiwan",\u9999\u6E2F\u7279\u522B\u884C\u653F\u533A:"HongKong",\u6FB3\u95E8\u7279\u522B\u884C\u653F\u533A:"Macau",\u5357\u6D77\u8BF8\u5C9B:"Nanhai"},M=Array.from({length:2023-2004+1},(e,o)=>2004+o),j=()=>{window.sessionStorage.getItem("user")||(C.push("/login"),console.log("no login"))},z=async()=>{G("china",W);const e=await y("/chart1",{year:2022});var o=document.getElementById("chart1"),t=v(o),n={title:{text:"Population distribution by province and city in China in 2022",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/"},tooltip:{trigger:"item",formatter:"{b}<br/>{c}/million people"},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},visualMap:{type:"continuous",left:"right",top:"bottom",min:0,max:110},series:[{name:"Province People",type:"map",map:"china",label:{show:!0},nameMap:_,data:e.data.map(a=>({name:_[a.name],value:a.value/100}))}]};t.clear(),n&&t.setOption(n),window.addEventListener("resize",()=>{t.resize()})},R=async()=>{var e=document.getElementById("chart2"),o=v(e),t;const n=await y("/chart2",{});t={title:{text:"2004-2023 Demographic change (male to female ratio)",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/"},tooltip:{trigger:"axis",formatter:"{b}<br/>{c}/million people",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},legend:{data:["Total","Man","Woman"],align:"right",right:"5%"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:M}],yAxis:[{type:"value"}],series:[{name:"Man",type:"line",stack:"Total",label:{show:!0},areaStyle:{},emphasis:{focus:"series"},data:n.data.map(a=>a.man/100)},{name:"Woman",type:"line",stack:"Total",label:{show:!0},areaStyle:{},emphasis:{focus:"series"},data:n.data.map(a=>a.woman/100)},{name:"Total",type:"line",stack:"Total",label:{show:!0},areaStyle:{},emphasis:{focus:"series"},data:n.data.map(a=>a.total/100)}]},t&&o.setOption(t),window.addEventListener("resize",()=>{o.resize()})},J=async()=>{var e=document.getElementById("chart3"),o=v(e),t;const n=await y("/chart2",{});t={title:{text:"2004-2023 Population change (urban-rural ratio)",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/"},tooltip:{trigger:"axis",formatter:"{b}<br/>{c}/million people",axisPointer:{type:"shadow"}},legend:{right:"5%"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:M},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},series:[{name:"Total",type:"bar",stack:"Total",label:{show:!0},areaStyle:{},emphasis:{focus:"series"},data:n.data.map(a=>a.total/100)},{name:"City",type:"bar",stack:"Total",label:{show:!0,position:"top"},areaStyle:{},emphasis:{focus:"series"},data:n.data.map(a=>a.city/100)},{name:"Village",type:"bar",stack:"Total",label:{show:!0,position:"top"},areaStyle:{},emphasis:{focus:"series"},data:n.data.map(a=>a.village/100)}]},t&&o.setOption(t)},X=async()=>{var e=document.getElementById("chart4"),o=v(e);let t;const n=await y("/chart4",{});t={title:{text:"Age distribution of population (2023)",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} million people ({d}%)"},legend:{orient:"vertical",left:"left"},series:[{name:"Age",type:"pie",radius:"50%",data:[{value:n.data.age_0_14/100,name:"0-15 years old"},{value:n.data.age_15_64/100,name:"15-64 years old"},{value:n.data.age_65_up/100,name:"65 and above years old"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},t&&o.setOption(t)},q=async()=>{var e=document.getElementById("chart5"),o=v(e),t;const a=(await y("/chart5",{})).data;t={title:{text:"Population and GDP of each province (2022)",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},tooltip:{trigger:"item",formatter:l=>{console.log(l.data);let r=l.data;return`${_[r[3]]}:<br/>Population\uFF1A${r[1]/100}(million)<br/>gdp\uFF1A${(r[0]/100).toFixed(2)}(million)`}},backgroundColor:new U(.3,.3,.8,[{offset:0,color:"#f7f8fa"},{offset:1,color:"#cdd0d5"}]),legend:{right:"10%",top:"3%",data:["2022"]},grid:{left:"8%",top:"10%"},xAxis:{label:"people",splitLine:{lineStyle:{type:"dashed"}}},yAxis:{label:"gdp",splitLine:{lineStyle:{type:"dashed"}},scale:!0},series:[{name:"2022",data:a,type:"scatter",symbolSize:function(l){return l[2]*2},emphasis:{focus:"series",label:{show:!0,formatter:function(l){return _[l.data[3]]},position:"top"}},itemStyle:{shadowBlur:10,shadowColor:"rgba(120, 36, 50, 0.5)",shadowOffsetY:5,color:new U(.4,.3,1,[{offset:0,color:"rgb(251, 118, 123)"},{offset:1,color:"rgb(204, 46, 72)"}])}}]},t&&o.setOption(t)},K=async()=>{var e=document.getElementById("chart6"),o=v(e),t;const a=(await y("/chart6",{})).data;for(var l=[],r=0;r<a.length;r++)l.push({type:"radar",symbol:"none",lineStyle:{width:1},emphasis:{areaStyle:{color:"rgba(0,250,0,0.3)"}},data:[{name:a[r].year+"",value:a[r].value.split(",").map(s=>s/100),province:a[r].name.split(",").map(s=>_[s])}]});t={title:{text:"Top5 Population Urban Changes",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",top:10,left:10},tooltip:{trigger:"item",formatter:s=>{let i="";return s.data.province.forEach((c,d)=>{i+=`${c}\uFF1A${s.value[d]}/million people<br>`}),`${s.name}<br>${i}`}},legend:{type:"scroll",bottom:10,data:a.map(s=>s.year+"")},visualMap:{top:"middle",right:10,color:["red","yellow"],calculable:!0},radar:{indicator:[{name:"Sichuan",max:130},{name:"Shandong",max:130},{name:"Guangdong",max:130},{name:"Jiangsu",max:130},{name:"Henan",max:130}],splitNumber:10},series:l},t&&o.setOption(t)},Q=async()=>{const e=document.getElementById("chart7"),o=v(e),t=await y("/chart7",{});function n(){return[{itemStyle:{borderWidth:0,gapWidth:5}},{itemStyle:{gapWidth:1}},{colorSaturation:[.35,.5],itemStyle:{gapWidth:1,borderColorSaturation:.6}}]}const a={title:{text:"A rectangular tree of population distribution by province in 2022",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},tooltip:{trigger:"item",formatter:function(l){}},series:[{name:"China",type:"treemap",visibleMin:300,label:{show:!0,formatter:"{b}"},itemStyle:{borderColor:"#fff"},levels:n(),data:t.data.map(l=>({name:_[l.province],value:l.total}))}]};a&&o.setOption(a)},tt=async()=>{var e=document.getElementById("chart8"),o=v(e),t;const a=(await y("/chart7",{})).data;var l={name:"China",children:[]};a.forEach(r=>{l.children.push({name:_[r.province],value:r.total/100})}),t={title:{text:"Permanent population statistics by provinces and cities in 2022",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},tooltip:{trigger:"item",formatter:r=>`${r.data.name}\uFF1A${r.data.value} million people`},visualMap:{min:Math.min(...a.map(r=>r.total/100)),max:Math.max(...a.map(r=>r.total/100)),calculable:!0,inRange:{color:["#8bc654","rgba(236,28,28,0.73)"]},orient:"vertical",left:"right",top:"center"},series:{type:"sunburst",data:[l],radius:[0,"90%"],label:{rotate:"radial"},levels:[{},{r0:"15%",r:"35%",label:{rotate:0}},{r0:"45%",r:"65%",label:{align:"right"}},{r0:"75%",r:"85%",label:{position:"outside",padding:3,silent:!1},itemStyle:{borderWidth:3}}]}},t&&o.setOption(t)},at=async()=>{var e=document.getElementById("chart9"),o=v(e),t;const n=await y("/chart4",{});t={title:{text:"Age distribution of population (2023)",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},gird:{top:"25%"},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} million people ({d}%)"},legend:{bottom:20},series:[{name:"Age",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{fontSize:20}},data:[{value:n.data.age_0_14/100,name:"0-15 years old"},{value:n.data.age_15_64/100,name:"15-64 years old"},{value:n.data.age_65_up/100,name:"65 and above years old"}]}]},t&&o.setOption(t)},et=async()=>{var e=document.getElementById("chart10"),o=v(e),t;const n=await y("/chart10",{});let a=[["Population","GDP","Life","Province","Year"]];T(n.data,function(i){a.push([i.total/100,0,0,_[i.province],i.year])});const l=Object.values(_),r=[],s=[];T(l,function(i){var c="dataset_"+i;r.push({id:c,fromDatasetId:"dataset_raw",transform:{type:"filter",config:{and:[{dimension:"Province","=":i}]}}}),s.push({type:"line",datasetId:c,showSymbol:!1,name:i,endLabel:{show:!0,formatter:function(d){return d.value[3]+": "+d.value[0]}},labelLayout:{moveOverlap:"shiftY"},emphasis:{focus:"series"},encode:{x:"Year",y:"Income",label:["Country","Income"],itemName:"Year",tooltip:["Income"]}})}),t={animationDuration:1e4,dataset:[{id:"dataset_raw",source:a},...r],title:{text:"The population growth trend of each province in the past 20 years",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},tooltip:{trigger:"item",formatter:function(i){let c=i.data;return c[3]+": "+c[0]+" million people"}},xAxis:{type:"category",nameLocation:"middle"},yAxis:{name:"Population (million people)"},grid:{right:140},series:s},t&&o.setOption(t)},ot=async()=>{var e=document.getElementById("chart11"),o=v(e),t;const n=await y("/chart2",{});var a=n.data[0],l=[a.total/100,a.man/100,a.woman/100,a.city/100,a.village/100];t={title:[{text:"Changes of urban and rural population structure and gender ratio in recent 20 years",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},{text:"2004",textAlign:"center",left:"80%",top:"60%",textStyle:{fontSize:100}}],toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},legend:{bottom:20,data:["Population"]},xAxis:{max:"dataMax"},yAxis:{type:"category",data:["Total","Man","Woman","City","Village"],inverse:!0,animationDuration:300,animationDurationUpdate:300,max:2},series:[{realtimeSort:!0,name:"Population",type:"bar",data:l,label:{show:!0,position:"right",valueAnimation:!0}}],animationDuration:0,animationDurationUpdate:1500,animationEasing:"linear",animationEasingUpdate:"linear"},o.setOption(t);function r(c){var d=n.data[c],D=[d.total/100,d.man/100,d.woman/100,d.city/100,d.village/100];o.setOption({title:[{text:"Changes of urban and rural population structure and gender ratio in recent 20 years",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},{text:d.year,textAlign:"center",left:"80%",top:"60%",textStyle:{fontSize:100}}],series:[{type:"bar",data:D}]})}var s=1,i=setInterval(function(){r(s),s+=1,s>18&&clearInterval(i)},3e3)},nt=async()=>{var e=document.getElementById("chart12"),o=v(e),t;const a=(await y("/chart12",{})).data;t={title:{text:"Population growth rate in recent 10 years",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{bottom:20},grid:{left:"3%",right:"4%",containLabel:!0},xAxis:[{type:"value"}],yAxis:[{type:"category",axisTick:{show:!1},data:a.map(l=>l.year)}],series:[{name:"Birth",type:"bar",label:{show:!0,position:"inside"},emphasis:{focus:"series"},data:a.map(l=>l.birth)},{name:"Death",type:"bar",stack:"Total",label:{show:!0},emphasis:{focus:"series"},data:a.map(l=>l.death)},{name:"Rise",type:"bar",stack:"Total",label:{show:!0,position:"left"},emphasis:{focus:"series"},data:a.map(l=>l.up)}]},t&&o.setOption(t)},it=async()=>{var e=document.getElementById("chart13"),o=v(e),t,n={opacity:.8},a=[{name:"Population",index:0,text:"Population",unit:" millions people"},{name:"Gdp",index:1,text:"Gdp",unit:" millions RMB"},{name:"Province",index:2,text:"Province",unit:""},{name:"Year",index:3,text:"Year",unit:""}];let r=(await y("/chart13",{})).data;for(let c=0;c<r.length;c++)for(let d=0;d<r[c].length;d++){const D=r[c][d][2];_.hasOwnProperty(D)&&(r[c][d][2]=_[D])}var s={provinces:Object.values(_),timeline:[2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],series:r};console.log(s),t={baseOption:{timeline:{axisType:"category",orient:"vertical",autoPlay:!0,inverse:!0,playInterval:1e3,left:null,right:0,top:20,bottom:20,width:55,height:null,symbol:"none",checkpointStyle:{borderWidth:2},controlStyle:{showNextBtn:!1,showPrevBtn:!1},data:[]},title:[{text:s.timeline[0],textAlign:"center",left:"63%",top:"55%",textStyle:{fontSize:100}},{text:"Evolution of the relationship between population and GDP in each province",left:"center",top:10,textStyle:{fontWeight:"normal",fontSize:20}}],toolbox:{left:-30,top:0,show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},tooltip:{padding:5,borderWidth:1,formatter:function(c){var d=c.value;return console.log(d),a[3].text+"\uFF1A"+d[3]+"<br>"+a[0].text+"\uFF1A"+d[0].toFixed(2)+a[0].unit+"<br>"+a[1].text+"\uFF1A"+d[1].toFixed(2)+a[1].unit+"<br>"+a[2].text+"\uFF1A"+d[2]+"<br>"}},grid:{top:100,containLabel:!0,left:30,right:"110"},xAxis:{type:"log",name:"Population",nameGap:25,nameLocation:"middle",nameTextStyle:{fontSize:18},splitLine:{show:!1},axisLabel:{formatter:"{value}"}},yAxis:{type:"value",name:"Gdp",nameTextStyle:{fontSize:18},splitLine:{show:!1},axisLabel:{formatter:"{value}"}},series:[{type:"scatter",itemStyle:n,data:s.series[0]}],animationDurationUpdate:1e3,animationEasingUpdate:"quinticInOut"},options:[]};for(var i=0;i<s.timeline.length;i++)t.baseOption.timeline.data.push(s.timeline[i]),t.options.push({title:{show:!0,text:s.timeline[i]+""},series:{name:s.timeline[i],type:"scatter",itemStyle:n,data:s.series[i],symbolSize:function(c){return c[1]*.25}}});t&&o.setOption(t)},rt=async()=>{var e=document.getElementById("chart14"),o=v(e),t;const n=await y("/chart14",{});let a=[["Population","Age","Year"]];T(n.data,function(i){a.push([i.total/100,"Total",i.year]),a.push([i.age_0_14/100,"Age_0_14",i.year]),a.push([i.age_15_64/100,"Age_15_64",i.year]),a.push([i.age_65_up/100,"Age_65_up",i.year])});const l=["Age_0_14","Age_15_64","Age_65_up","Total"],r=[],s=[];T(l,function(i){var c="dataset_"+i;r.push({id:c,fromDatasetId:"dataset_raw",transform:{type:"filter",config:{and:[{dimension:"Age","=":i}]}}}),s.push({type:"line",datasetId:c,showSymbol:!1,name:i,endLabel:{show:!0,formatter:function(d){return d.value[1]+": "+d.value[0]+" millions people"}},labelLayout:{moveOverlap:"shiftY"},emphasis:{focus:"series"},encode:{x:"Year",y:"Income",label:["Country","Income"],itemName:"Year",tooltip:["Income"]}})}),t={animationDuration:1e4,dataset:[{id:"dataset_raw",source:a},...r],title:{text:"Line chart of population growth by age group",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},tooltip:{trigger:"item",formatter:function(i){let c=i.data;return c[1]+": "+c[0]+" million people"}},xAxis:{type:"category",nameLocation:"middle"},yAxis:{name:"Population (million people)"},grid:{right:140},series:s},t&&o.setOption(t)},st=async()=>{var e=document.getElementById("chart15"),o=v(e);G("china",W);const n=(await y("/chart1",{year:2022})).data.map(s=>({name:_[s.name],value:s.value/100}));n.sort(function(s,i){return s.value-i.value});const a={title:{text:"Population distribution by province and city in China in 2022",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/"},visualMap:{left:"right",min:0,max:120,text:["High","Low"],calculable:!0},series:[{id:"population",type:"map",roam:!0,map:"china",animationDurationUpdate:1e3,universalTransition:!0,nameMap:_,data:n}]},l={title:{text:"Population distribution by province and city in China in 2022",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/"},xAxis:{type:"value"},yAxis:{type:"category",axisLabel:{rotate:30},data:n.map(function(s){return s.name})},animationDurationUpdate:1e3,series:{type:"bar",id:"population",data:n.map(function(s){return s.value}),universalTransition:!0}};let r=a;o.setOption(a),setInterval(function(){r=r===a?l:a,o.setOption(r,!0)},3e3)},E=async()=>{const e=await wt({user_id:A.state.user.id});e.code===200&&(console.log(e.data.map(o=>o.chart_name)),I.value=e.data.map(o=>o.chart_name))};gt(()=>{j(),E(),z()});const lt=O([{name:"chart1",title:"Population distribution by province and city in China in 2022"},{name:"chart2",title:"2004-2023 Demographic change (male to female ratio)"},{name:"chart3",title:"2004-2023 Population change (urban-rural ratio)"},{name:"chart4",title:"Age distribution of population (2023)"},{name:"chart5",title:"Population and GDP of each province (2022)"},{name:"chart6",title:"Top5 Population Urban Changes"},{name:"chart7",title:"A rectangular tree of population distribution by province in 2022"},{name:"chart8",title:"Rising Sun Map of 2022 population analysis by province"},{name:"chart9",title:"Age distribution of population (2023)"},{name:"chart10",title:"The population growth trend of each province in the past 20 years"},{name:"chart11",title:"Changes of urban and rural population structure and gender ratio in recent 20 years"},{name:"chart12",title:"Population growth rate in recent 10 years"},{name:"chart13",title:"Evolution of the relationship between population and GDP in each province"},{name:"chart14",title:"Line chart of population growth by age group"},{name:"chart15",title:"Population distribution Map of China by province and city in 2022 & bar chart"}]),p=O("chart1"),ct=e=>{p.value=e},dt=async e=>{if(I.value.includes(e)){let t=await Dt({user_id:A.state.user.id,chart_name:e});t.code===200?(L.success("Unstar success"),await E()):L.error(t.msg)}else{let t=await kt({user_id:A.state.user.id,chart_name:e});t.code===200?(L.success("Star success"),await E()):L.error(t.msg)}};return yt(p,(e,o)=>{switch(console.log(e,o),e){case"chart1":setTimeout(()=>{z()},500);break;case"chart2":setTimeout(()=>{R()},500);break;case"chart3":setTimeout(()=>{J()},500);break;case"chart4":setTimeout(()=>{X()},500);break;case"chart5":setTimeout(()=>{q()},500);break;case"chart6":setTimeout(()=>{K()},500);break;case"chart7":setTimeout(()=>{Q()},500);break;case"chart8":setTimeout(()=>{tt()},500);break;case"chart9":setTimeout(()=>{at()},500);break;case"chart10":setTimeout(()=>{et()},500);break;case"chart11":setTimeout(()=>{ot()},500);break;case"chart12":setTimeout(()=>{nt()},500);break;case"chart13":setTimeout(()=>{it()},500);break;case"chart14":setTimeout(()=>{rt()},500);break;case"chart15":setTimeout(()=>{st()},500);break}}),(e,o)=>{const t=w("el-menu-item"),n=w("el-sub-menu"),a=w("el-menu"),l=w("el-header"),r=w("el-tooltip"),s=w("el-aside"),i=w("StarFilled"),c=w("Star"),d=w("el-icon"),D=w("el-main"),V=w("el-container");return u(),P(V,null,{default:f(()=>[x(l,null,{default:f(()=>[x(a,{class:"el-menu-demo",mode:"horizontal",ellipsis:!1,onSelect:$},{default:f(()=>[x(t,{index:"0",onClick:N},{default:f(()=>[St]),_:1}),Ct,x(n,{index:"2"},{title:f(()=>[B("Welcome, "+Z(vt(A).state.user.username),1)]),default:f(()=>[x(t,{index:"2-1",onClick:H},{default:f(()=>[B("My collection")]),_:1}),x(t,{index:"2-1",onClick:F},{default:f(()=>[B("Logout")]),_:1})]),_:1})]),_:1})]),_:1}),x(V,null,{default:f(()=>[x(s,{width:"400px"},{default:f(()=>[x(a,{class:"el-menu-vertical-demo","default-active":"chart1"},{default:f(()=>[(u(!0),m(bt,null,ft(lt.value,k=>(u(),P(t,{index:k.name,onClick:Da=>ct(k.name)},{default:f(()=>[x(r,{class:"box-item",effect:"dark",content:k.title,placement:"top-start"},{default:f(()=>[h("div",null,[At,h("span",null,Z(k.title),1)])]),_:2},1032,["content"])]),_:2},1032,["index","onClick"]))),256))]),_:1})]),_:1}),x(D,{class:"el-main-fix"},{default:f(()=>[p.value==="chart1"?(u(),m("div",It,Ot)):b("",!0),p.value==="chart2"?(u(),m("div",Pt,Et)):b("",!0),p.value==="chart3"?(u(),m("div",Bt,zt)):b("",!0),p.value==="chart4"?(u(),m("div",Vt,Wt)):b("",!0),p.value==="chart5"?(u(),m("div",Ut,Yt)):b("",!0),p.value==="chart6"?(u(),m("div",$t,Nt)):b("",!0),p.value==="chart7"?(u(),m("div",Ht,Rt)):b("",!0),p.value==="chart8"?(u(),m("div",Jt,qt)):b("",!0),p.value==="chart9"?(u(),m("div",Kt,ta)):b("",!0),p.value==="chart10"?(u(),m("div",aa,oa)):b("",!0),p.value==="chart11"?(u(),m("div",na,ra)):b("",!0),p.value==="chart12"?(u(),m("div",sa,ca)):b("",!0),p.value==="chart13"?(u(),m("div",da,ha)):b("",!0),p.value==="chart14"?(u(),m("div",pa,ga)):b("",!0),p.value==="chart15"?(u(),m("div",ya,fa)):b("",!0),h("footer",ba,[x(d,{size:"32",color:"red",onClick:o[0]||(o[0]=k=>dt(p.value))},{default:f(()=>[I.value.includes(p.value)?(u(),P(i,{key:0})):(u(),P(c,{key:1}))]),_:1}),I.value.includes(p.value)?(u(),m("div",_a," Unfavorite ")):(u(),m("div",xa," Favorite "))])]),_:1})]),_:1})]),_:1})}}},Ta=ht(wa,[["__scopeId","data-v-88d688c8"]]);export{Ta as default};
