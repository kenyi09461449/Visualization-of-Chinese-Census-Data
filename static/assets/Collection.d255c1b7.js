import{_ as et}from"./logo.09271933.js";import{r as T,c as L,g as y,i as g,R as B,e as A}from"./chart.3124556a.js";import{_ as ot,a as nt,u as it,b as E,s as st,c as w,o as m,t as rt,h as _,g as x,l as C,v as lt,x as ct,e as v,A as f,p as dt,m as ut,f as u}from"./index.794eb616.js";import{b as ht}from"./user.f7bb43e6.js";import"./request.e71a236e.js";const h=D=>(dt("data-v-6fc98871"),D=D(),ut(),D),pt=h(()=>u("img",{style:{width:"200px",height:"50px"},src:et,alt:"Logo"},null,-1)),mt=h(()=>u("div",{class:"flex-grow"},null,-1)),yt={key:0,class:"chart-tab"},gt=h(()=>u("div",{id:"chart1",class:"chart"},null,-1)),vt=[gt],ft={key:1,class:"chart-tab"},bt=h(()=>u("div",{id:"chart2",class:"chart"},null,-1)),_t=[bt],xt={key:2,class:"chart-tab"},wt=h(()=>u("div",{id:"chart3",class:"chart"},null,-1)),Dt=[wt],St={key:3,class:"chart-tab"},It=h(()=>u("div",{id:"chart4",class:"chart"},null,-1)),At=[It],Ct={key:4,class:"chart-tab"},kt=h(()=>u("div",{id:"chart5",class:"chart"},null,-1)),Ot=[kt],Pt={key:5,class:"chart-tab"},Tt=h(()=>u("div",{id:"chart6",class:"chart"},null,-1)),Lt=[Tt],Bt={key:6,class:"chart-tab"},Et=h(()=>u("div",{id:"chart7",class:"chart"},null,-1)),Mt=[Et],zt={key:7,class:"chart-tab"},Vt=h(()=>u("div",{id:"chart8",class:"chart"},null,-1)),Wt=[Vt],Gt={key:8,class:"chart-tab"},Zt=h(()=>u("div",{id:"chart9",class:"chart"},null,-1)),Yt=[Zt],Nt={key:9,class:"chart-tab"},Ht=h(()=>u("div",{id:"chart10",class:"chart"},null,-1)),$t=[Ht],Ut={key:10,class:"chart-tab"},jt=h(()=>u("div",{id:"chart11",class:"chart"},null,-1)),Ft=[jt],Rt={key:11,class:"chart-tab"},Jt=h(()=>u("div",{id:"chart12",class:"chart"},null,-1)),Xt=[Jt],qt={key:12,class:"chart-tab"},Kt=h(()=>u("div",{id:"chart13",class:"chart"},null,-1)),Qt=[Kt],ta={key:13,class:"chart-tab"},aa=h(()=>u("div",{id:"chart14",class:"chart"},null,-1)),ea=[aa],oa={key:14,class:"chart-tab"},na=h(()=>u("div",{id:"chart15",class:"chart"},null,-1)),ia=[na],sa={__name:"Collection",setup(D){const S=nt(),k=it(),O=E(""),M=(r,o)=>{O.value=r},p=E([]),z=()=>{window.localStorage.clear(),window.sessionStorage.clear(),S.push("/login")},V=()=>{S.push("/index")},W=()=>{S.push("/collection")},b={\u5317\u4EAC\u5E02:"Beijing",\u5929\u6D25\u5E02:"Tianjin",\u6CB3\u5317\u7701:"Hebei",\u5C71\u897F\u7701:"Sh\u0101nx\u012B",\u5185\u8499\u53E4\u81EA\u6CBB\u533A:"Neimeng",\u8FBD\u5B81\u7701:"Liaoning",\u5409\u6797\u7701:"Jilin",\u9ED1\u9F99\u6C5F\u7701:"Heilongjiang",\u4E0A\u6D77\u5E02:"Shanghai",\u6C5F\u82CF\u7701:"Jiangsu",\u6D59\u6C5F\u7701:"Zhejiang",\u5B89\u5FBD\u7701:"Anhui",\u798F\u5EFA\u7701:"Fujian",\u6C5F\u897F\u7701:"Jiangxi",\u5C71\u4E1C\u7701:"Shandong",\u6CB3\u5357\u7701:"Henan",\u6E56\u5317\u7701:"Hubei",\u6E56\u5357\u7701:"Hunan",\u5E7F\u4E1C\u7701:"Guangdong",\u5E7F\u897F\u58EE\u65CF\u81EA\u6CBB\u533A:"Guangxi",\u6D77\u5357\u7701:"Hainan",\u91CD\u5E86\u5E02:"Chongqing",\u56DB\u5DDD\u7701:"Sichuan",\u8D35\u5DDE\u7701:"Guizhou",\u4E91\u5357\u7701:"Yunnan",\u897F\u85CF\u81EA\u6CBB\u533A:"Xizang",\u9655\u897F\u7701:"Sh\u01CEnx\u012B",\u7518\u8083\u7701:"Gansu",\u9752\u6D77\u7701:"Qinghai",\u5B81\u590F\u56DE\u65CF\u81EA\u6CBB\u533A:"Ningxia",\u65B0\u7586\u7EF4\u543E\u5C14\u81EA\u6CBB\u533A:"Xinjiang",\u53F0\u6E7E\u7701:"Taiwan",\u9999\u6E2F\u7279\u522B\u884C\u653F\u533A:"HongKong",\u6FB3\u95E8\u7279\u522B\u884C\u653F\u533A:"Macau",\u5357\u6D77\u8BF8\u5C9B:"Nanhai"},P=Array.from({length:2023-2004+1},(r,o)=>2004+o),G=()=>{window.sessionStorage.getItem("user")||(S.push("/login"),console.log("no login"))},Z=async()=>{T("china",L);const r=await y("/chart1",{year:2022});var o=document.getElementById("chart1"),a=g(o),e={title:{text:"Population distribution by province and city in China in 2022",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/"},tooltip:{trigger:"item",formatter:"{b}<br/>{c}/million people"},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},visualMap:{type:"continuous",left:"right",top:"bottom",min:0,max:110},series:[{name:"Province People",type:"map",map:"china",label:{show:!0},nameMap:b,data:r.data.map(t=>({name:b[t.name],value:t.value/100}))}]};a.clear(),e&&a.setOption(e),window.addEventListener("resize",()=>{a.resize()})},Y=async()=>{var r=document.getElementById("chart2"),o=g(r),a;const e=await y("/chart2",{});a={title:{text:"2004-2023 Demographic change (male to female ratio)",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/"},tooltip:{trigger:"axis",formatter:"{b}<br/>{c}/million people",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},legend:{data:["Total","Man","Woman"],align:"right",right:"5%"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:P}],yAxis:[{type:"value"}],series:[{name:"Man",type:"line",stack:"Total",label:{show:!0},areaStyle:{},emphasis:{focus:"series"},data:e.data.map(t=>t.man/100)},{name:"Woman",type:"line",stack:"Total",label:{show:!0},areaStyle:{},emphasis:{focus:"series"},data:e.data.map(t=>t.woman/100)},{name:"Total",type:"line",stack:"Total",label:{show:!0},areaStyle:{},emphasis:{focus:"series"},data:e.data.map(t=>t.total/100)}]},a&&o.setOption(a),window.addEventListener("resize",()=>{o.resize()})},N=async()=>{var r=document.getElementById("chart3"),o=g(r),a;const e=await y("/chart2",{});a={title:{text:"2004-2023 Population change (urban-rural ratio)",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/"},tooltip:{trigger:"axis",formatter:"{b}<br/>{c}/million people",axisPointer:{type:"shadow"}},legend:{right:"5%"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:P},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},series:[{name:"Total",type:"bar",stack:"Total",label:{show:!0},areaStyle:{},emphasis:{focus:"series"},data:e.data.map(t=>t.total/100)},{name:"City",type:"bar",stack:"Total",label:{show:!0,position:"top"},areaStyle:{},emphasis:{focus:"series"},data:e.data.map(t=>t.city/100)},{name:"Village",type:"bar",stack:"Total",label:{show:!0,position:"top"},areaStyle:{},emphasis:{focus:"series"},data:e.data.map(t=>t.village/100)}]},a&&o.setOption(a)},H=async()=>{var r=document.getElementById("chart4"),o=g(r);let a;const e=await y("/chart4",{});a={title:{text:"Age distribution of population (2023)",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} million people ({d}%)"},legend:{orient:"vertical",left:"left"},series:[{name:"Age",type:"pie",radius:"50%",data:[{value:e.data.age_0_14/100,name:"0-15 years old"},{value:e.data.age_15_64/100,name:"15-64 years old"},{value:e.data.age_65_up/100,name:"65 and above years old"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},a&&o.setOption(a)},$=async()=>{var r=document.getElementById("chart5"),o=g(r),a;const t=(await y("/chart5",{})).data;a={title:{text:"Population and GDP of each province (2022)",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},tooltip:{trigger:"item",formatter:l=>{console.log(l.data);let i=l.data;return`${b[i[3]]}:<br/>Population\uFF1A${i[1]/100}(million)<br/>gdp\uFF1A${(i[0]/100).toFixed(2)}(million)`}},backgroundColor:new B(.3,.3,.8,[{offset:0,color:"#f7f8fa"},{offset:1,color:"#cdd0d5"}]),legend:{right:"10%",top:"3%",data:["2022"]},grid:{left:"8%",top:"10%"},xAxis:{label:"people",splitLine:{lineStyle:{type:"dashed"}}},yAxis:{label:"gdp",splitLine:{lineStyle:{type:"dashed"}},scale:!0},series:[{name:"2022",data:t,type:"scatter",symbolSize:function(l){return l[2]*2},emphasis:{focus:"series",label:{show:!0,formatter:function(l){return b[l.data[3]]},position:"top"}},itemStyle:{shadowBlur:10,shadowColor:"rgba(120, 36, 50, 0.5)",shadowOffsetY:5,color:new B(.4,.3,1,[{offset:0,color:"rgb(251, 118, 123)"},{offset:1,color:"rgb(204, 46, 72)"}])}}]},a&&o.setOption(a)},U=async()=>{var r=document.getElementById("chart6"),o=g(r),a;const t=(await y("/chart6",{})).data;for(var l=[],i=0;i<t.length;i++)l.push({type:"radar",symbol:"none",lineStyle:{width:1},emphasis:{areaStyle:{color:"rgba(0,250,0,0.3)"}},data:[{name:t[i].year+"",value:t[i].value.split(",").map(n=>n/100),province:t[i].name.split(",").map(n=>b[n])}]});a={title:{text:"Top5 Population Urban Changes",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",top:10,left:10},tooltip:{trigger:"item",formatter:n=>{let s="";return n.data.province.forEach((c,d)=>{s+=`${c}\uFF1A${n.value[d]}/million people<br>`}),`${n.name}<br>${s}`}},legend:{type:"scroll",bottom:10,data:t.map(n=>n.year+"")},visualMap:{top:"middle",right:10,color:["red","yellow"],calculable:!0},radar:{indicator:[{name:"Sichuan",max:130},{name:"Shandong",max:130},{name:"Guangdong",max:130},{name:"Jiangsu",max:130},{name:"Henan",max:130}],splitNumber:10},series:l},a&&o.setOption(a)},j=async()=>{const r=document.getElementById("chart7"),o=g(r),a=await y("/chart7",{});function e(){return[{itemStyle:{borderWidth:0,gapWidth:5}},{itemStyle:{gapWidth:1}},{colorSaturation:[.35,.5],itemStyle:{gapWidth:1,borderColorSaturation:.6}}]}const t={title:{text:"Permanent population statistics by provinces and cities in 2022",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},tooltip:{trigger:"item",formatter:function(l){}},series:[{name:"China",type:"treemap",visibleMin:300,label:{show:!0,formatter:"{b}"},itemStyle:{borderColor:"#fff"},levels:e(),data:a.data.map(l=>({name:b[l.province],value:l.total}))}]};t&&o.setOption(t)},F=async()=>{var r=document.getElementById("chart8"),o=g(r),a;const t=(await y("/chart7",{})).data;var l={name:"China",children:[]};t.forEach(i=>{l.children.push({name:b[i.province],value:i.total/100})}),a={title:{text:"Permanent population statistics by provinces and cities in 2022",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},tooltip:{trigger:"item",formatter:i=>`${i.data.name}\uFF1A${i.data.value} million people`},visualMap:{min:Math.min(...t.map(i=>i.total/100)),max:Math.max(...t.map(i=>i.total/100)),calculable:!0,inRange:{color:["#8bc654","rgba(236,28,28,0.73)"]},orient:"vertical",left:"right",top:"center"},series:{type:"sunburst",data:[l],radius:[0,"90%"],label:{rotate:"radial"},levels:[{},{r0:"15%",r:"35%",label:{rotate:0}},{r0:"45%",r:"65%",label:{align:"right"}},{r0:"75%",r:"85%",label:{position:"outside",padding:3,silent:!1},itemStyle:{borderWidth:3}}]}},a&&o.setOption(a)},R=async()=>{var r=document.getElementById("chart9"),o=g(r),a;const e=await y("/chart4",{});a={title:{text:"Age distribution of population (2023)",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},gird:{top:"25%"},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} million people ({d}%)"},legend:{bottom:20},series:[{name:"Age",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{fontSize:20}},data:[{value:e.data.age_0_14/100,name:"0-15 years old"},{value:e.data.age_15_64/100,name:"15-64 years old"},{value:e.data.age_65_up/100,name:"65 and above years old"}]}]},a&&o.setOption(a)},J=async()=>{var r=document.getElementById("chart10"),o=g(r),a;const e=await y("/chart10",{});let t=[["Population","GDP","Life","Province","Year"]];A(e.data,function(s){t.push([s.total/100,0,0,b[s.province],s.year])});const l=Object.values(b),i=[],n=[];A(l,function(s){var c="dataset_"+s;i.push({id:c,fromDatasetId:"dataset_raw",transform:{type:"filter",config:{and:[{dimension:"Province","=":s}]}}}),n.push({type:"line",datasetId:c,showSymbol:!1,name:s,endLabel:{show:!0,formatter:function(d){return d.value[3]+": "+d.value[0]}},labelLayout:{moveOverlap:"shiftY"},emphasis:{focus:"series"},encode:{x:"Year",y:"Income",label:["Country","Income"],itemName:"Year",tooltip:["Income"]}})}),a={animationDuration:1e4,dataset:[{id:"dataset_raw",source:t},...i],title:{text:"Permanent population statistics by provinces and cities in 2023",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},tooltip:{trigger:"item",formatter:function(s){let c=s.data;return c[3]+": "+c[0]+" million people"}},xAxis:{type:"category",nameLocation:"middle"},yAxis:{name:"Population (million people)"},grid:{right:140},series:n},a&&o.setOption(a)},X=async()=>{var r=document.getElementById("chart11"),o=g(r),a;const e=await y("/chart2",{});var t=e.data[0],l=[t.total/100,t.man/100,t.woman/100,t.city/100,t.village/100];a={title:[{text:"Changes of urban and rural population structure and gender ratio in recent 20 years",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},{text:"2004",textAlign:"center",left:"80%",top:"60%",textStyle:{fontSize:100}}],toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},legend:{bottom:20,data:["Population"]},xAxis:{max:"dataMax"},yAxis:{type:"category",data:["Total","Man","Woman","City","Village"],inverse:!0,animationDuration:300,animationDurationUpdate:300,max:2},series:[{realtimeSort:!0,name:"Population",type:"bar",data:l,label:{show:!0,position:"right",valueAnimation:!0}}],animationDuration:0,animationDurationUpdate:1500,animationEasing:"linear",animationEasingUpdate:"linear"},o.setOption(a);function i(c){var d=e.data[c],I=[d.total/100,d.man/100,d.woman/100,d.city/100,d.village/100];o.setOption({title:[{text:"Changes of urban and rural population structure and gender ratio in recent 20 years",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},{text:d.year,textAlign:"center",left:"80%",top:"60%",textStyle:{fontSize:100}}],series:[{type:"bar",data:I}]})}var n=1,s=setInterval(function(){i(n),n+=1,n>18&&clearInterval(s)},3e3)},q=async()=>{var r=document.getElementById("chart12"),o=g(r),a;const t=(await y("/chart12",{})).data;a={title:{text:"Population growth rate in recent 10 years",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{bottom:20},grid:{left:"3%",right:"4%",containLabel:!0},xAxis:[{type:"value"}],yAxis:[{type:"category",axisTick:{show:!1},data:t.map(l=>l.year)}],series:[{name:"Birth",type:"bar",label:{show:!0,position:"inside"},emphasis:{focus:"series"},data:t.map(l=>l.birth)},{name:"Death",type:"bar",stack:"Total",label:{show:!0},emphasis:{focus:"series"},data:t.map(l=>l.death)},{name:"Rise",type:"bar",stack:"Total",label:{show:!0,position:"left"},emphasis:{focus:"series"},data:t.map(l=>l.up)}]},a&&o.setOption(a)},K=async()=>{var r=document.getElementById("chart13"),o=g(r),a,e={opacity:.8},t=[{name:"Population",index:0,text:"Population",unit:" millions people"},{name:"Gdp",index:1,text:"Gdp",unit:" millions RMB"},{name:"Province",index:2,text:"Province",unit:""},{name:"Year",index:3,text:"Year",unit:""}];let i=(await y("/chart13",{})).data;for(let c=0;c<i.length;c++)for(let d=0;d<i[c].length;d++){const I=i[c][d][2];b.hasOwnProperty(I)&&(i[c][d][2]=b[I])}var n={provinces:Object.values(b),timeline:[2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],series:i};console.log(n),a={baseOption:{timeline:{axisType:"category",orient:"vertical",autoPlay:!0,inverse:!0,playInterval:1e3,left:null,right:0,top:20,bottom:20,width:55,height:null,symbol:"none",checkpointStyle:{borderWidth:2},controlStyle:{showNextBtn:!1,showPrevBtn:!1},data:[]},title:[{text:n.timeline[0],textAlign:"center",left:"63%",top:"55%",textStyle:{fontSize:100}},{text:"Evolution of the relationship between population and GDP in each province",left:"center",top:10,textStyle:{fontWeight:"normal",fontSize:20}}],toolbox:{left:-30,top:0,show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},tooltip:{padding:5,borderWidth:1,formatter:function(c){var d=c.value;return console.log(d),t[3].text+"\uFF1A"+d[3]+"<br>"+t[0].text+"\uFF1A"+d[0].toFixed(2)+t[0].unit+"<br>"+t[1].text+"\uFF1A"+d[1].toFixed(2)+t[1].unit+"<br>"+t[2].text+"\uFF1A"+d[2]+"<br>"}},grid:{top:100,containLabel:!0,left:30,right:"110"},xAxis:{type:"log",name:"Population",nameGap:25,nameLocation:"middle",nameTextStyle:{fontSize:18},splitLine:{show:!1},axisLabel:{formatter:"{value}"}},yAxis:{type:"value",name:"Gdp",nameTextStyle:{fontSize:18},splitLine:{show:!1},axisLabel:{formatter:"{value}"}},series:[{type:"scatter",itemStyle:e,data:n.series[0]}],animationDurationUpdate:1e3,animationEasingUpdate:"quinticInOut"},options:[]};for(var s=0;s<n.timeline.length;s++)a.baseOption.timeline.data.push(n.timeline[s]),a.options.push({title:{show:!0,text:n.timeline[s]+""},series:{name:n.timeline[s],type:"scatter",itemStyle:e,data:n.series[s],symbolSize:function(c){return c[1]*.25}}});a&&o.setOption(a)},Q=async()=>{var r=document.getElementById("chart14"),o=g(r),a;const e=await y("/chart14",{});let t=[["Population","Age","Year"]];A(e.data,function(s){t.push([s.total/100,"Total",s.year]),t.push([s.age_0_14/100,"Age_0_14",s.year]),t.push([s.age_15_64/100,"Age_15_64",s.year]),t.push([s.age_65_up/100,"Age_65_up",s.year])});const l=["Age_0_14","Age_15_64","Age_65_up","Total"],i=[],n=[];A(l,function(s){var c="dataset_"+s;i.push({id:c,fromDatasetId:"dataset_raw",transform:{type:"filter",config:{and:[{dimension:"Age","=":s}]}}}),n.push({type:"line",datasetId:c,showSymbol:!1,name:s,endLabel:{show:!0,formatter:function(d){return d.value[1]+": "+d.value[0]+" millions people"}},labelLayout:{moveOverlap:"shiftY"},emphasis:{focus:"series"},encode:{x:"Year",y:"Income",label:["Country","Income"],itemName:"Year",tooltip:["Income"]}})}),a={animationDuration:1e4,dataset:[{id:"dataset_raw",source:t},...i],title:{text:"Permanent population statistics by provinces and cities in 2023",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/",left:"center"},toolbox:{show:!0,orient:"vertical",feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},tooltip:{trigger:"item",formatter:function(s){let c=s.data;return c[1]+": "+c[0]+" million people"}},xAxis:{type:"category",nameLocation:"middle"},yAxis:{name:"Population (million people)"},grid:{right:140},series:n},a&&o.setOption(a)},tt=async()=>{var r=document.getElementById("chart15"),o=g(r);T("china",L);const e=(await y("/chart1",{year:2022})).data.map(n=>({name:b[n.name],value:n.value/100}));e.sort(function(n,s){return n.value-s.value});const t={title:{text:"Population distribution by province and city in China in 2022",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/"},visualMap:{left:"right",min:0,max:120,text:["High","Low"],calculable:!0},series:[{id:"population",type:"map",roam:!0,map:"china",animationDurationUpdate:1e3,universalTransition:!0,nameMap:b,data:e}]},l={title:{text:"Population distribution by province and city in China in 2022",subtext:"Data from https://data.stats.gov.cn/",sublink:"https://data.stats.gov.cn/"},xAxis:{type:"value"},yAxis:{type:"category",axisLabel:{rotate:30},data:e.map(function(n){return n.name})},animationDurationUpdate:1e3,series:{type:"bar",id:"population",data:e.map(function(n){return n.value}),universalTransition:!0}};let i=t;o.setOption(t),setInterval(function(){i=i===t?l:t,o.setOption(i,!0)},3e3)},at=async()=>{const r=await ht({user_id:k.state.user.id});r.code===200&&(console.log(r.data.map(o=>o.chart_name)),p.value=r.data.map(o=>o.chart_name),setTimeout(()=>{Z(),Y(),N(),H(),$(),U(),j(),F(),R(),J(),X(),q(),K(),Q(),tt()},300))};return st(()=>{G(),at()}),(r,o)=>{const a=w("el-menu-item"),e=w("el-sub-menu"),t=w("el-menu"),l=w("el-header"),i=w("el-main"),n=w("el-container");return m(),rt(n,null,{default:_(()=>[x(l,null,{default:_(()=>[x(t,{"default-active":O.value,class:"el-menu-demo",mode:"horizontal",ellipsis:!1,onSelect:M},{default:_(()=>[x(a,{index:"0",onClick:V},{default:_(()=>[pt]),_:1}),mt,x(e,{index:"2"},{title:_(()=>[C("Welcome, "+lt(ct(k).state.user.username),1)]),default:_(()=>[x(a,{index:"2-1",onClick:W},{default:_(()=>[C("My collection")]),_:1}),x(a,{index:"2-1",onClick:z},{default:_(()=>[C("Logout")]),_:1})]),_:1})]),_:1},8,["default-active"])]),_:1}),x(n,null,{default:_(()=>[x(i,{class:"el-main-fix"},{default:_(()=>[p.value.includes("chart1")?(m(),v("div",yt,vt)):f("",!0),p.value.includes("chart2")?(m(),v("div",ft,_t)):f("",!0),p.value.includes("chart3")?(m(),v("div",xt,Dt)):f("",!0),p.value.includes("chart4")?(m(),v("div",St,At)):f("",!0),p.value.includes("chart5")?(m(),v("div",Ct,Ot)):f("",!0),p.value.includes("chart6")?(m(),v("div",Pt,Lt)):f("",!0),p.value.includes("chart7")?(m(),v("div",Bt,Mt)):f("",!0),p.value.includes("chart8")?(m(),v("div",zt,Wt)):f("",!0),p.value.includes("chart9")?(m(),v("div",Gt,Yt)):f("",!0),p.value.includes("chart10")?(m(),v("div",Nt,$t)):f("",!0),p.value.includes("chart11")?(m(),v("div",Ut,Ft)):f("",!0),p.value.includes("chart12")?(m(),v("div",Rt,Xt)):f("",!0),p.value.includes("chart13")?(m(),v("div",qt,Qt)):f("",!0),p.value.includes("chart14")?(m(),v("div",ta,ea)):f("",!0),p.value.includes("chart15")?(m(),v("div",oa,ia)):f("",!0)]),_:1})]),_:1})]),_:1})}}},ha=ot(sa,[["__scopeId","data-v-6fc98871"]]);export{ha as default};
